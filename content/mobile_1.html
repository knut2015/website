<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>mobile</title>
    <link rel="stylesheet" href="../stylesheets/styles.css">
    <link rel="stylesheet" href="../stylesheets/pygment_trac.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script src="../javascripts/respond.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <!--[if lt IE 8]>
    <link rel="stylesheet" href="stylesheets/ie.css">
    <![endif]-->
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no, maximum-scale=1.0, minimum-scale=1.0">

  </head>
  <body>
      <div id="header">
       
      </div><!-- end header -->

    <div class="wrapper">

      <section>
        <div>
          <h1>Mobile touch Test</h1>
        </div>

        <div id="touch" style="background: grey; width: 100%; height: 100px;">touch</div>
        <div id="log" style="border: 1px solid silver; width: 100%;"></div>
      </section>

      <section>
        <pre><code>
var element = document.getElementById("touch");

window.onload = function(){
  element.addEventListener("touchstart", onTouchHandler);
  element.addEventListener("touchmove", onTouchHandler);
  element.addEventListener("touchend", onTouchHandler);

  function onTouchHandler(event){
    var t = event.changedTouches;
    var txt = '';

    for ( var i = 0; i < t.length; i++ ){
      txt += t[i].pageX;
    }

    switch ( event.type ){
      case "touchstart":
        addLog("touchStart: " + txt);
        break;
      case "touchmove":
        addLog("touchMove: " + txt);
        break;
      case "touchend":
        addLog("touchEnd: " + txt);
        break;
    }      
  }
}

var addLog = function( value ){
  var log = document.getElementById("log");
  log.innerHTML = value;
}
        </code></pre>
      </section>
    </div>
    
    <script type="text/javascript">
      var element = document.getElementById("touch");

      window.onload = function(){
        element.addEventListener("touchstart", onTouchHandler);
        element.addEventListener("touchmove", onTouchHandler);
        element.addEventListener("touchend", onTouchHandler);

        function onTouchHandler(event){
          var t = event.changedTouches;
          var txt = '';

          for ( var i = 0; i < t.length; i++ ){
            txt += t[i].pageX;
          }

          switch ( event.type ){
            case "touchstart":
              addLog("touchStart: " + txt);
              break;
            case "touchmove":
              addLog("touchMove: " + txt);
              break;
            case "touchend":
              addLog("touchEnd: " + txt);
              break;
          }      
        }
      }

      var addLog = function( value ){
        var log = document.getElementById("log");
        log.innerHTML = value;
      }
    </script>
  </body>
</html>